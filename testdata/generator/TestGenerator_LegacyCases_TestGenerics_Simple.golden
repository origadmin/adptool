// Package generictest contains generated code by adptool.
package generictest

import (
	"context"
	"time"

	source3 "github.com/origadmin/adptool/testdata/pkgs/source3"
)

const (
	MCDefaultTimeout = source3.DefaultTimeout
	MCMaxRetries     = source3.MaxRetries
	MCPriorityHigh   = source3.PriorityHigh
	MCPriorityLow    = source3.PriorityLow
	MCPriorityMedium = source3.PriorityMedium
	MCStatusFailed   = source3.StatusFailed
	MCStatusPending  = source3.StatusPending
	MCStatusRunning  = source3.StatusRunning
	MCStatusSuccess  = source3.StatusSuccess
	MCStatusUnknown  = source3.StatusUnknown
	MCVersion        = source3.Version
)

var (
	MVConfigValue   = source3.ConfigValue
	MVDefaultWorker = source3.DefaultWorker
	MVProcessors    = source3.Processors
	MVStatsCounter  = source3.StatsCounter
)

type (
	MTCommonStruct                                 = source3.CommonStruct
	MTComplexGenericInterface[T any, K comparable] = source3.ComplexGenericInterface[T, K]
	MTEmbeddedInterface                            = source3.EmbeddedInterface
	MTGenericWorker[T any]                         = source3.GenericWorker[T]
	MTHandlerFunc[T any]                           = source3.HandlerFunc[T]
	MTInputData[T any]                             = source3.InputData[T]
	MTIntAlias                                     = source3.IntAlias
	MTOutputData                                   = source3.OutputData
	MTPriority                                     = source3.Priority
	MTProcessConfig                                = source3.ProcessConfig
	MTProcessFunc                                  = source3.ProcessFunc
	MTProcessOption                                = source3.ProcessOption
	MTStatus                                       = source3.Status
	MTStatusAlias                                  = source3.StatusAlias
	MTTimeAlias                                    = source3.TimeAlias
	MTWorker                                       = source3.Worker
	MTWorkerConfig                                 = source3.WorkerConfig
	MTWorkerOption                                 = source3.WorkerOption
)

func MFCommonFunction() string {
	return source3.CommonFunction()
}

func MFExecute(ctx context.Context, api source3.ComplexGenericInterface[string, int], input *source3.InputData[string], timeout time.Duration) (*source3.OutputData, error) {
	return source3.Execute(ctx, api, input, timeout)
}

func MFExecuteParallel(ctx context.Context, apis []source3.ComplexGenericInterface[string, int], input *source3.InputData[string]) ([]*source3.OutputData, error) {
	return source3.ExecuteParallel(ctx, apis, input)
}

func MFFilter[T any](ts []T, fn func(T) bool) []T {
	return source3.Filter[T](ts, fn)
}

func MFMap[T, U any](ts []T, fn func(T) U) []U {
	return source3.Map[T, U](ts, fn)
}

func MFNewGenericWorker[T any](name string, data T, processor func(T) error) *source3.GenericWorker[T] {
	return source3.NewGenericWorker[T](name, data, processor)
}

func MFNewWorker(name string, options ...source3.WorkerOption) *source3.Worker {
	return source3.NewWorker(name, options...)
}
